<div class="chat-layout">
  <div class="chat-requests">
    <h2><i class="fas fa-users"></i> Chat Requests</h2>
    <div *ngFor="let user of chatRequests" (click)="selectUser(user)" class="user-request" [class.active]="selectedUser?.userId === user.userId">
      <i class="fas fa-user-circle"></i>
      <div class="user-info">
        <span class="user-name">{{ user.userName }}</span>
        <small class="last-message">{{ getLastMessage(user) }}</small>
      </div>
    </div>
  </div>
  <div class="chat-container" *ngIf="selectedUser">
    <div class="chat-header">
      <i class="fas fa-user-circle"></i>
      <span>{{ selectedUser.userName }}</span>
    </div>
    <div class="chat-messages">
      <div class="messages">
        <div *ngFor="let message of displayMessages"
             [ngClass]="{'admin-message': isAdminMessage(message), 'user-message': !isAdminMessage(message)}"
             class="message">
          <span class="message-text">{{ message.text }}</span>
          <span class="message-time">{{ message.time }}</span>
        </div>
      </div>
    </div>
    <div class="chat-input">
      <input [(ngModel)]="message" placeholder="Type your message..." (keyup.enter)="sendMessage()" />
      <button (click)="sendMessage()">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>
</div>